<!DOCTYPE html>
<html lang="en">
<%- include('./partials/head.ejs') %>
<body>
    <%- include('./partials/nav.ejs') %>


    <div class="container">
        <ul class="collection with-header">
            <li class="collection-header"><h4>Items</h4></li>
            <% if(items.length > 0 ) { 
                items.forEach(item => {
            %>                
                <li class="collection-item"><div>
                    <a href="/items/<%= item._id %>"><%=item.name%></a>
                    <%=item.price%>
                    <a href="#!" class="secondary-content"><i class="material-icons modal-trigger" href="#edit_item_modal">edit</i></a></div></li>
            <% 
                })
            } else { %>
                <p>no items</p>
            <% } %>
          </ul>
    </div>

    <div id="edit_item_modal" class="modal">
        <div class="modal-content">
          <h4>Modal Header</h4>
          <p>A bunch of text</p>
        </div>
        <div class="modal-footer">
          <a href="#!" class="modal-close waves-effect waves-green btn-flat">Agree</a>
        </div>
    </div>

    <script>
         document.addEventListener('DOMContentLoaded', function() {
            var elems = document.querySelectorAll('.modal');
            var instances = M.Modal.init(elems);
        });
    </script>
</body>
</html>